| 管道命令的重点是它仅会处理 standard output, 对于 standard error output 会予以忽略。
管道命令必须要能够接受来自前一个命令的数据称为 standard input 继续处理才行。 --p344

| `tee` 会将数据流于文件和屏幕；而输出到屏幕的，其实就是 stdout, 可以让下个命令继续处理。
--p338

| grep 可以解析一行文字，取得关键字，若该行有存在关键字，就会整行显示出来。 --p336

| 数据流重定向就是将某个命令执行后应该要出现在屏幕上的数据传输到其他的地方，例如文件或者
是设备（例如打印机之类的） --p328

| source ： 读取环境变量文件的命令；
- 利用 source 或小数点（.）都可以将配置文件的内容读进目前的 shell 环境中。--p324
(用来动态更新环境变量)

| login shell 和 non-login shell 读取的配置文件数据是不一样的。 --p322

| 基本上，命令运行的顺序： --p320
- 以相对/绝对路径执行命令，例如 "/bin/ls" 或 "./ls";
- 由 alias 找到该命令莱执行;
- 由 bash 内置的命令莱执行；
- 通过 $PATH 这个变量的顺序找到的第一个命令来执行；

| alias 设置别名为什么要用单引号？
单引号、双引号、不用引号其实都可以，但是有些是有空格的，就需要用单引号或双引号：
```sh
alias lm='ls -al | more'
alias h=history
```

| 命令别名与变量有什么不同？
命令别名是新创的一个新的命令，你可以直接执行该命令。
至于变量则需要使用类似 `echo` 命令才能调用变量的内容。

| 添加别名： `alias vi='vim'`
  删除别名： `unalias vi`

| 注意： alias 的定义规则与变量定义规则几乎相同，所以你只要在 alias 后面加上你的{"别名"='命令参数...'}.
eg. `alias lm='ls -l | more'` --p317

|  `read` 想要跟用户对谈？用这个命令就对了。 --p310
```sh
read -p "Please keyin your name:" -t 30 named
```

| 被 export 后的变量，我们可以称为“环境变量”。环境变量可以被子进程所引用，
但是其他的自定义变量内容就不会存在于子进程中。 --p309

| 可以将父进程的自定义变量变成环境变量，就可以让该变量值继续存在于子进程。--p308
```sh
export 变量名称
```

| 子进程仅会记录父进程的环境变量，子进程不会继承父进程的自定义变量。 --p307

| 留意：较高级的硬件通常会向下兼容旧有的软件，但较高级的软件可能无法在旧机器上面安装。 --p307
举例来说：你可以在 x86_64 的硬件上安装 i386 的 Linux 操作系统，但是你无法在 i686 的硬件
上安装 x86_64 的 Linux 操作系统。

| `?` 上一个命令的回传码。 --p307
```sh
echo $?
```

| `$` 符号本身也是一个变量。这个代表的是目前这个 Shell 的线程代号，即是所谓的PID。
想要知道外贸的 shell 的 PID， 用 "echo $$" 即可，出现的数字就是你的PID号码。
（另外通过`bash` 命令来新建子进程，通过 `exit` 来推出子进程。） --p306

| 基本上，在 Linux 默认的情况下，使用{大写的字母}来设置的变量一般为系统内定需要的变量。--p306

| 自定义一个范围的随机数生成变量：
```sh
declare -i number=$RANDOM*10/32768;
echo $number
```

| 使用 `$(uname -r)` 来代替 `\``;因为反单引号容易打错或看错。 --p304

| 给常用的目录设置变量： --p304
```sh
# 1. 进入到一个很长的目录中;
cd /lib/modules/$(uname -r)/kernel
# 2. 给当前目录设置变量：
work=$(pwd)
# 3. 在其他地方进入到这个常用目录：
cd $work
```

| 反单引号(\`) 这个符号代表的意义为何？
在一串命令中，在 （\`）之内的命令将会被先执行，而其执行出来的结果将作为外部的输入信息。
--p303

| 使用了单引号的时候，$name 将失去原有的变量内容，仅为一般字符的显示类型而已。 --p303

| 在变量的设置当中，单引号与双引号的用途有何不同？
答：单引号与双引号的最大不同在于双引号仍然可以保有变量的内容，
但单引号内仅能是一般字符，而不会有特殊符号。 --p303

|  在一般情况下，父进程的自定义变量是无法在子进程内使用的。
但是通过 export 将变量变成环境变量后，就能够在子进程下面应用了。 --p302

| bash　优点　－－p297
- 命令记忆能力；
- 命令与文件不全功能；
- 命令别名（alias）；
- 作业控制（jobs）前台、后台控制；
- 程序脚本；
- 通配符；

| 为何学习　shell？ --p295
－　相对于图形界面的软件， distributions 各家的 bash　是一样的;
－　远程管理，命令行界面快速，稳定；
－　系统管理的利器；

| 一般用户只能通过 shell 来跟内核通信，以让内核达到我们所想要达到的工作。 --p294

| bash
- 变量的设置和使用；
- bash 操作环境的搭建；
- 数据流重定向的功能；
- 管道命令；

## 第11章 认识和学习bash

| 格式转换：
`iconv -f big5 -t utf8 vi.big5 -o vi.utf8`

| 尽可能使用 utf-8 来编码； -p289

| vim 记录操作的文件：`.viminfo`

| 多窗口编辑：
`:sp{filename}`
如果想要在新窗口启动另一个文件，就添加文件名，否则仅输入 :sp 时，出现的则是同一个文件在两个
窗口间。

| 多文件编辑 --p286
```sh
vim hosts /etc/hosts
```

| 块选择：
可以以块为单位，而不是以行为单位来处理你的整份文件。
借助 `[ctrl]+v` 来进行块选择； --p285

| 为什么要用 vim 呢？
因为 vim 具有颜色显示的功能，并且还支持许多的程序语法。 --p284

| 当我们在 vim 的一般模式下按下 [ctrl]-Z 的组合键时，你的 vim 会被丢到后台去执行； --p282

| 在 vi 里面，[TAB] 键所得到的结果与空格符所得到的结果是不一样的，特别强调一下。 --p277

| 3种模式：  --p276
- 一般模式；
- 编辑模式；
- 命令行模式；

| vim 支持的一些功能  --p276
- 正则表达式的查找架构；
- 多文件编辑；
- 块复制；

| 为何要学vim --p275
- 所有的 UNIX Like 系统都会内置 vi 文本编辑器，其他的文本编辑器不一定会存在。
- 很多软件的编辑借口都会主动调用 vi；
- vim 具有程序编辑的能力，可以主动以字体颜色辨别语法的正确性，方便程序设计；
- 程序简单，编辑速度相当快速；

## 第10章 vim程序编辑器

| 光盘刻录工具： cdrecord --p267

| 新建镜像文件：mkisofs --p265

| 和 `dump` 备份对应的是恢复 `restore` --p262

| `dump`,除了能针对整个文件系统备份之外，也能够仅针对目录来备份。 --p259

| 打包的时候，忽略某些文件： tar -jcv -f /root/system.tar.bz2 --exclude=/root/etc*
--p257

| 仅解开单一文件的做法： tar -jxv -f /root/etc.tar.bz2 etc/shadow --p256

| 其实最简单地使用 tar 就只要记忆下面的方式即可： --p254
- 压缩： tar -jcv -f filename.tar.bzz2 要被压缩的文件或目录名称；
- 查询： tar -jtv -f filename.tar.bzz2
- 解压缩： tar -jxv -f filename.tar.bz2 -C 欲解压缩的目录；
注意：-c、-t、-x 不可同事出现在一串命令行中。

| 打包与压缩是不同的概念： --p254
- 打包：讲多个文件和目录包成一个大文件；（例如：tar）
- 压缩：缩小文件体积；(例如： compress, gzip, bzip2)


| `bzip2`的压缩比相对于 `gzip` 更好，用法同 `gzip`; --p253
使用 `bzcat`可以在不用解压缩的情况下，读取文本文件的内容。

| 通过 `zcat` 可以读取文本压缩文件的内容。--p252

| 压缩： `gzip [-cdtv#] 文件名`
- `-c` 输出到屏幕上，可以用来重定向输出到制定文件;
- `-d` 解压缩； （默认会删除掉原有的`gz`文件，同样可以组合`-c`参数而不删除 `gz` 文件）
- `-#` 压缩等级，用户可以自己指定压缩等级，-1最快，压缩比差；-9最慢，压缩比最好；
  默认是 -6


| compress 已经很少用了， gzip可以说是应用最广的压缩命令了。
目前 gzip 可以解开 compress、zip、与 gzip 等软件所压缩的文件。--p252

| 文件扩展名的存在是为了便于人类小小的大脑的识别的。（虽然linux文件的属性基本上和文件名
没有绝对的关系） --p250

| 压缩技术：一些聪明的计算机工程师利用复杂的计算方式，讲没有使用到的空间“丢”出来，以让
文件占用的空间变小。 --p249

| 计算机上最小的计量单位是 `bit`, 另外：1byte = 8bit

## 第9章: 文件与文件系统的压缩与打包

| 常见的支持文件系统： --p209
- 传统文件系统： ext2;
- 日志文件系统： ext3/NTFS;
- 网络文件系统： NFS

| 除非你有使用到大于 2TB 以上的磁盘，否则请使用 `fdisk` 这个程序来进行分区。 --p244

| 可以使用 `parted` 来处理高于2TB的分区情况。 --p243

| 使用`du -sb /etc`命令来查看目录所占用的所有空间。 --p243

| 使用`ls -l`去查询某个目录下的数据时，第一行都会出现一个`total`字样，
其实那就是该目录下的所有数据所占用的实际 block 数量 xblock 大小的值。--p243

| swap的使用场合主要是在服务器上面，个人的桌面计算机一般用不到。--p241

| 构建swap分区 --p240
- 使用物理分区：fdisk
- 使用文件块：dd

| swap 的功能就是在应付物理内存不足的情况下所造成的内存扩展记录的功能。--p238

| 按照制定的参数格式设置到`/etc/fstab`文件中，即实现开机挂载。
注意：需要检查写入到`/etc/fstab`的语法有没有错误，这个很重要，因为文件如果写错了，
则你的Linux很可能将无法顺利开机完成！--p236

| 挂载点是什么？一定是目录。 --p235

| 开机挂载
`/etc/fstab (file system table)`就是将我们利用 mount 命令进行挂载时，
将所有的参数写入到这个文件中就可以了。

| 使用`hdparm` 在sata上做测试：
```sh
hdparm -Tt /dev/sda
hdparm -Tt /dev/sdb
```

| 可以通过Label的方式进行挂载： --p231
```sh
mount -L "vbird_logical" /mnt/ccc
```

| e.g., 挂载一个iso文件到`/mnt/ccc`
```sh
mount xxxx.iso /mnt/ccc
```
一般这种iso文件都是只读形式的，因此可能会有下面这种提示：
`mount: /dev/loop0 is write-protected, mounting read-only`
镜像文件不刻录就挂载使用。

| 进入到挂载目录中，进行卸载操作是不成功的。
`umount: /media/cdrome: device is busy`
解决办法是退出挂载目录，重新`umount`
--p230

| 磁盘挂载： mount

| 磁盘检验：fsck, badblocks

| 磁盘分区完成后，进行格式化操作：`mkfs`

| fdisk 没有办法处理大于2TB以上的磁盘分区。（可以使用parted这个命令） --p223

| fdisk
需要以管理员身份运行
```sh
fdisk /dev/sda
fdisk /dev/sdb # 注意不需要带具体数值
```

| 要制作连接文件必须要使用`ln`这个命令；--p215
```sh
ln [-sf] 源文件 目标文件
```

| `symbolic link`符号连接；（类似于windows上的快捷方式）

| hard link连接有限制：
- 不能跨文件系统；
- 不能连接到目录；

| 注意硬链接和软连接的区别；--p213

| 整个filesystem其实都是VFS（Virtual Filesystem Switch）进行管理；

| 根目录的上一级就是他自己。 `ls -ild / /. /..`，通过这个命令发现`inode`都是2；

| Ext2文件系统 --p197

## 第8章

| 通过find来按时间属性查找：
- mtime
- ctime
- atime

| 更新locate数据库：
`updatedb`

| 按文件名查找：
- `whereis`
- `locate`

| 查找`commond`的路径:
`which -a ifconfig`

| root用户身份的umask权限默认是：022
  一般用户身份的umask权限默认是：002 --p183

| 设置umask: `umask 002`
- 具体运算规则，是默认的权限减去umask数值。

| 新建文件的默认权限：-rw-rw-rw-
  新建文件夹的默认权限：drwxrwxrwx
注意：具体的生成结果还得依赖于umask的值(拿掉umask的那一部分)。

| `ll; ls`:
`;`分号表示连续命令的执行；

| `ll`命令是`ls -l`的缩写。--p179

| `touch`可以只用来修改时间，使用参数`-a`。 --p179
可以指定时间，使用`-d`参数。
还可以用来创建空文件。

| tail命令：显示文件后面几行
`-f`参数表示，持续检测文件的内容(实时性)。按ctrl-c停止检测。

| man 命令就是通过调用 less 来显示说明文件的内容的。

| `nl`显示文件的时候，顺便显示行号。

| `rename`更改大量文件的文件名

| `mv`命令
移动文件 & 重命名文件

| `rm`命令
删除文件/目录
- `-r` 遍历删除参数。（慎用）

| 你是要站在巨人的肩膀上瞭望的。

| `mv`命令
用途：
- 移动文件/文件夹；
- 用来重命名；

| `cp`命令
用途：
- 复制文件；
加上参数`-a` 讲文件的所有特性一起复制过来。（包括属性/权限）
这个功能常用来备份文件。
注意：复制给别人的文件要注意到文件的权限（否则别人无法修订）。
要复制连接文件的属性，就得使用 -d 的参数了。

- 创建链接（快捷方式）


# 《鸟哥的Linux私房菜》读书笔记

=============

## 错误
| p181
> 修改属性：chown -R dmtsai:users/tmp/chapter7_1
  修改属性：chown -R dmtsai:users /tmp/chapter7_1 // 少了一个空格

> 答： mkfs-tvfat/dev/hdc6
  答： mkfs -t vfat /dev/hdc6  
